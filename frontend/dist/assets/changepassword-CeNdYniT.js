import{u as f,r as u,i as v,a as w,b as x,c as g,d as s,e as d,g as r,k as i,f as b,F as y,h as k,l as P}from"./index-DnafoGEs.js";const C=s("div",null,[s("p",{class:"text-lg"},[s("span",{class:"text-[20px] font-bold"}," Parolni almashtirish ")])],-1),N={class:"container mt-4 flex space-x-7"},j=s("p",{class:"font-bold"}," Eski parol ",-1),B={class:"w-[250px] mt-2"},O=s("p",{class:"font-bold"}," Yangi parol ",-1),S={class:"w-[250px] mt-2"},T=s("p",{class:"font-bold"}," Yagi parol (qayta) ",-1),U={class:"w-[250px] mt-2"},V={class:"flex justify-end mx-auto w-[75%] mt-5"},R={__name:"changepassword",setup(E){let m=f(),e=u(""),n=u(""),l=u("");const p=v(),h=async function(c){try{let o=localStorage.token,t=await fetch(`${k}admin/changepassword`,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8","-x-token":o},body:JSON.stringify(c)});if(t.status==400){t=await t.json(),p.error(t.error);return}if(t.status==401){m.push("/login");return}if(t.status==201){e.value="",n.value="",l.value="",p.success("Parol almashtrildi");return}}catch{}};return(c,o)=>{const t=w("n-input"),_=w("n-button");return x(),g(y,null,[C,s("div",N,[s("div",null,[j,s("div",B,[d(t,{type:"password","show-password-on":"mousedown",placeholder:"Password",maxlength:18,value:r(e),"onUpdate:value":o[0]||(o[0]=a=>i(e)?e.value=a:e=a)},null,8,["value"])])]),s("div",null,[O,s("div",S,[d(t,{type:"password",value:r(n),"onUpdate:value":o[1]||(o[1]=a=>i(n)?n.value=a:n=a),"show-password-on":"mousedown",placeholder:"Password",maxlength:18},null,8,["value"])])]),s("div",null,[T,s("div",U,[d(t,{type:"password",value:r(l),"onUpdate:value":o[2]||(o[2]=a=>i(l)?l.value=a:l=a),"show-password-on":"mousedown",placeholder:"Password",maxlength:18},null,8,["value"])])])]),s("div",V,[d(_,{onClick:o[3]||(o[3]=a=>h({oldpassword:r(e),newpassword:r(n),confirmpassword:r(l)}))},{default:b(()=>[P("O'zgartirish")]),_:1})])],64)}}};export{R as default};
